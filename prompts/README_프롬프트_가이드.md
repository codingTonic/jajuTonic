# 사주 분석 프롬프트 가이드

## 📁 프롬프트 파일 구조

### 1. 기본 프롬프트
- `system_prompt.txt` - AI 시스템의 기본 동작 규칙 (이미 존재)
- `json_prompt_template.txt` - JSON 형식 프롬프트 기본 템플릿

### 2. 대화 세션 프롬프트
- `initial_conversation_prompt.txt` - 대화 시작용 프롬프트 (Part 1)

### 3. 각 파트별 프롬프트
- `part_2_prompt.txt` - '나'라는 존재 깊이 보기
- `part_3_prompt.txt` - 현실 속의 나: 인생의 주요 테마 
- `part_4_prompt.txt` - 시간 속의 나: 인생의 여정과 타이밍
- `part_5_prompt.txt` - 인생의 파도를 항해하는 법
- `part_6_prompt.txt` - 너를 위한 맞춤 생활 꿀팁
- `part_7_prompt.txt` - 건강 & 라이프스타일 가이드
- `part_8_prompt.txt` - 너의 이야기, 너의 힘 (종합 조언)

## 🔧 사용 방법

### 1. 변수 치환
각 프롬프트 파일에는 다음과 같은 변수들이 포함되어 있습니다:

```
{saju_result}         - 사주 계산 결과 JSON
{user_info}           - 사용자 정보 JSON
{current_date}        - 현재 날짜 
{relevant_json_data}  - 파트별 관련 JSON 데이터
{part_title}          - 파트 제목
{part_intro}          - 파트 소개
{sections_info}       - 섹션별 정보
```

### 2. 프롬프트 생성 예시
```python
# 예시: Part 2 프롬프트 생성
with open('prompts/part_2_prompt.txt', 'r', encoding='utf-8') as f:
    prompt_template = f.read()

prompt = prompt_template.format(
    relevant_json_data=json.dumps(relevant_data, ensure_ascii=False)
)
```

### 3. 최소 글자수 기준
- **300자 이상**: 사주팔자 구성
- **400자 이상**: 에너지 레벨, 건강 가이드
- **600자 이상**: 핵심 정체성, 숨겨진 재능, 대박 기회, 파도 넘는 법
- **700자 이상**: 인생 전체 흐름
- **800자 이상**: 직업운, 재물운, 연애운, 올해운, 월별 예보, 향후 3-5년, 종합 조언
- **200자 이상**: 소울 푸드
- **300자 이상**: 기운 충전 방법

## 📊 8개 파트 구성

### Part 1: 너의 인생 설계도: 사주팔자 열어보기
- 사주팔자 구성 (300자 이상)

### Part 2: '나'라는 존재 깊이 보기
- 핵심 정체성 (600자 이상)
- 숨겨진 재능과 성향 (600자 이상)
- 에너지 레벨과 스타일 (400자 이상)

### Part 3: 현실 속의 나: 인생의 주요 테마
- 직업 & 사업 (800자 이상)
- 재물운 (800자 이상)
- 연애 & 궁합 (800자 이상)

### Part 4: 시간 속의 나: 인생의 여정과 타이밍
- 인생 전체 흐름 (700자 이상)
- 2025년 운세 (800자 이상)

### Part 5: 인생의 파도를 항해하는 법
- 월별 연애 & 금전 예보 (800자 이상)
- 향후 3-5년 준비사항 (800자 이상)

### Part 6: 너를 위한 맞춤 생활 꿀팁
- 대박 기회 (600자 이상)
- 파도 넘는 법 (600자 이상)

### Part 7: 건강 & 라이프스타일 가이드
- 건강 가이드 (400자 이상)
- 소울 푸드 추천 (200자 이상)
- 기운 충전 방법 (300자 이상)

### Part 8: 너의 이야기, 너의 힘
- 종합 조언 (800자 이상)

## 💡 프롬프트 활용 팁

1. **파트별 특화 데이터**: 각 파트에 맞는 JSON 데이터를 선별하여 제공
2. **최소 글자수 준수**: 각 섹션별 최소 글자수를 반드시 지켜야 함
3. **반말 톤**: 친근하고 따뜻한 반말 톤으로 작성
4. **JSON 형식**: 모든 응답은 JSON 형식으로 출력
5. **연관성 유지**: 이전 파트들과의 연관성을 고려하여 분석

## 🔍 디버깅 및 수정

프롬프트 파일을 수정할 때는:
1. 변수 이름 (`{variable_name}`) 형식 유지
2. 최소 글자수 기준 명시
3. JSON 형식 출력 요구사항 포함
4. 반말 톤 유지 요구사항 포함 