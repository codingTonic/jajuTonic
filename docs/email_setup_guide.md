# 이메일 전송 기능 설정 가이드

사용자 정보를 이메일로 자동 전송하는 기능을 활성화하기 위해 Gmail 설정이 필요합니다.

## 1. Gmail 앱 비밀번호 생성

### 1.1 Google 계정 설정
1. Google 계정에 로그인 (https://myaccount.google.com/)
2. 왼쪽 메뉴에서 "보안" 클릭
3. "Google에 로그인" 섹션으로 이동

### 1.2 2단계 인증 활성화
1. "2단계 인증"을 클릭
2. 아직 활성화되지 않은 경우, 2단계 인증을 설정
3. SMS나 인증 앱을 통해 인증 설정

### 1.3 앱 비밀번호 생성
1. 2단계 인증 설정 후 "앱 비밀번호" 옵션이 나타남
2. "앱 비밀번호"를 클릭
3. "앱 선택" 드롭다운에서 "기타 (맞춤 이름)" 선택
4. 이름을 "사주 분석 서비스"로 입력
5. "생성" 클릭
6. 표시되는 16자리 비밀번호를 복사 (한 번만 표시됨)

## 2. 환경변수 설정

### 2.1 환경변수 파일 생성
프로젝트 루트 디렉토리에 `.env` 파일을 생성하고 다음 내용을 추가:

```bash
# Gmail 설정
GMAIL_ADDRESS=당신의이메일@gmail.com
GMAIL_APP_PASSWORD=생성된16자리앱비밀번호
```

### 2.2 예시
```bash
# 예시 (실제 정보로 교체하세요)
GMAIL_ADDRESS=your.email@gmail.com
GMAIL_APP_PASSWORD=abcd efgh ijkl mnop
```

## 3. 서버 재시작

환경변수를 설정한 후 서버를 재시작하세요:

```bash
# 서버 중지 (Ctrl+C)
# 서버 재시작
venv/bin/python app.py
```

## 4. 기능 테스트

1. 웹사이트에 접속하여 사주 분석 정보를 입력
2. 폼 제출 시 자동으로 `wndgus920420@gmail.com`으로 이메일 전송
3. 이메일 수신 확인

## 5. 보안 주의사항

- `.env` 파일을 Git에 커밋하지 마세요
- 앱 비밀번호는 안전하게 보관하세요
- 필요 시 Google 계정에서 앱 비밀번호를 삭제할 수 있습니다

## 6. 문제 해결

### 이메일 전송 실패 시
1. 환경변수가 올바르게 설정되었는지 확인
2. Gmail 앱 비밀번호가 정확한지 확인
3. 2단계 인증이 활성화되었는지 확인
4. 서버 로그에서 오류 메시지 확인

### 로그 확인 방법
```bash
# 서버 실행 중 로그 모니터링
tail -f logs/saju_analyzer.log
```

이메일 전송 기능이 정상적으로 작동하면 사용자가 정보를 입력할 때마다 자동으로 알림을 받게 됩니다. 